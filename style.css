body { font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif; background-color: #fdf6e3; color: #586e75; max-width: 800px; margin: 20px auto; }
#game-container { width: 100%; }

/* --- ARCHITECTURAL FIX: New styles for arrow overlay --- */
#map-container {
    position: relative; /* This is the anchor for the absolute overlay */
    margin-bottom: 20px;
}
#arrow-overlay {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    pointer-events: none; /* Allows clicks to pass through to the map below */
}

/* --- END OF FIX --- */

#map-ui-container { text-align: center; }
.map-label-top, .map-label-bottom { font-weight: bold; color: #268bd2; padding: 5px; }
.map-side-labels { display: flex; align-items: center; gap: 10px; }
.left-label, .right-label { writing-mode: vertical-rl; text-orientation: mixed; font-weight: bold; color: #268bd2; }
#map-viewport { flex-grow: 1; height: 400px; border: 2px solid #eee8d5; border-radius: 5px; background-color: #fcf9f2; overflow: hidden; cursor: grab; }
#map-viewport:active { cursor: grabbing; }
#map-svg { width: 100%; height: 100%; }

#main-content { padding: 0 10px; }
#game-log { height: 300px; overflow-y: scroll; border: 1px solid #eee8d5; padding: 10px; background-color: #fcfcf7; margin-bottom: 10px; }
.log-entry { margin-bottom: 15px; }
.log-command { font-style: italic; color: #93a1a1; padding-left: 10px; border-left: 3px solid #eee8d5; }
.log-room-title { color: #b58900; }
.log-description { font-size: 1.1em; line-height: 1.6; }
.log-exits { margin-top: 20px; padding-top: 15px; border-top: 2px solid #eee8d5; font-style: italic; color: #657b83; }

#feedback { color: #dc322f; font-style: italic; height: 1.2em; }
#command-input { width: 100%; box-sizing: border-box; padding: 10px; font-size: 1em; border: 1px solid #93a1a1; border-radius: 4px; background-color: #fdf6e3; color: #073642; }

.vocab { position: relative; display: inline-block; cursor: help; background-color: #eee8d5; padding: 0 4px; border-radius: 3px; }
.vocab .tooltip { visibility: hidden; width: 160px; background-color: #073642; color: #eee8d5; text-align: center; border-radius: 6px; padding: 5px 0; position: absolute; z-index: 1; bottom: 125%; left: 50%; margin-left: -80px; opacity: 0; transition: opacity 0.3s; }
.vocab:hover .tooltip { visibility: visible; opacity: 1; }
.novum { text-decoration: underline dotted #d33682; }

.map-connection { stroke: #93a1a1; stroke-width: 4; stroke-linecap: round; }
.map-room rect { stroke: #93a1a1; stroke-width: 3; fill: #eee8d5; rx: 8; }
.map-room.current rect { fill: #b58900; stroke: #cb4b16; stroke-width: 5; }
.map-room.hidden { visibility: hidden; }
.room-label { font-size: 14px; font-family: sans-serif; fill: #073642; text-anchor: middle; pointer-events: none; font-weight: bold; }
.room-label.current { fill: #fdf6e3; }

/* ADD THIS TO THE END of style.css */

/* Style for bold keywords in the exits list */
.log-exits strong {
    color: #268bd2; /* A gentle blue to make it stand out */
    font-weight: 600;
}

/* Style for the recast command log entry */
.log-recast {
    font-style: italic;
    color: #859900; /* A pleasant green for corrections */
    padding-left: 10px;
    border-left: 3px solid #eee8d5;
}

/* Style for the highlighted, corrected part of a recast */
.recast-ending {
    text-decoration: underline;
    font-weight: bold;
    display: inline-block; /* Required for animation */
    animation: jiggle 0.5s 2; /* Run the 'jiggle' animation twice */
}

/* The jiggle animation itself */
@keyframes jiggle {
    0%, 100% { transform: scale(1.0); }
    25% { transform: scale(1.1) rotate(-2deg); }
    75% { transform: scale(1.1) rotate(2deg); }
}